<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç¦å»ºé—ªå‡»æˆ˜</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@300;400;500;700&display=swap" rel="stylesheet">
    <!-- Chosen Palette: Calm Harmony -->
    <!-- Application Structure Plan: The application is designed as a multi-tab single-page application (SPA) to provide a non-linear, user-driven experience. The structure includes: 1) A 'Pre-Trip Prep' landing page with interactive checklists, as this is the most critical first step for the user. 2) A 'Daily Itinerary' section with a day-selector to view interactive timelines, making the dense schedule easy to digest. 3) A 'Budget Overview' with a dynamic chart to provide a clear, visual breakdown of costs. 4) Filterable 'Destination' and 'Food' guides to allow users to look up specific information on-demand. This thematic structure is chosen over a linear one to empower the user to access the information they need, when they need it, enhancing usability and planning efficiency. -->
    <!-- Visualization & Content Choices: 1) Pre-trip tasks -> Interactive Checklists (HTML/JS) -> Goal: Actionable planning -> Justification: More engaging and provides a sense of completion. 2) Daily schedule -> Vertical Timeline (HTML/CSS/JS) -> Goal: Clarify sequence of events -> Justification: Intuitive visualization for time-based data. 3) Cost data -> Donut Chart (Chart.js) -> Goal: Compare budget allocation -> Justification: Effectively shows proportions of total spending. 4) POIs/Food -> Filterable Card Grid (HTML/Tailwind/JS) -> Goal: Organize and allow quick lookup -> Justification: Provides fast, non-linear access to a large dataset. All interactions are designed to reveal more details on-demand, keeping the initial UI clean and uncluttered. -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        body { font-family: 'Noto Sans SC', sans-serif; background-color: #f8fafc; }
        .tab-active { border-color: #0d9488; color: #0d9488; background-color: #ccfbf1; }
        .tab-inactive { border-color: transparent; color: #475569; }
        .content-section { display: none; }
        .content-active { display: block; }
        .timeline-item::before { content: ''; position: absolute; left: -0.5rem; top: 0.5rem; width: 1rem; height: 1rem; background-color: #14b8a6; border-radius: 9999px; border: 2px solid #f0fdfa; }
        .chart-container { position: relative; width: 100%; max-width: 450px; margin-left: auto; margin-right: auto; height: 300px; max-height: 400px; }
        img { width: 100%; height: auto; object-fit: cover; aspect-ratio: 16/9; border-radius: 0.5rem; }
        @media (min-width: 768px) { 
            .chart-container { height: 400px; }
            img { aspect-ratio: 16/10; }
        }
    </style>
</head>
<body class="bg-slate-50 text-slate-800">

    <div id="app" class="max-w-7xl mx-auto p-4 md:p-6">
        
        <header class="text-center mb-6 md:mb-10">
            <h1 class="text-3xl md:text-4xl font-bold text-teal-700">ç¦å»ºé—ªå‡»æˆ˜</h1>
            <p class="mt-2 text-slate-500 text-lg">è¿™ä¸ä»…ä»…æ˜¯æ”»ç•¥ï¼Œè¿™æ˜¯ä½ çš„æ•°å­—åŒ–ä½œæˆ˜æŒ‡æŒ¥ä¸­å¿ƒã€‚</p>
        </header>

        <nav class="flex flex-wrap justify-center gap-2 md:gap-4 mb-8">
            <button data-tab="prep" class="nav-tab text-sm md:text-base font-semibold py-2 px-4 rounded-full border-2 transition-all duration-300">
                <span class="mr-2">âœ”ï¸</span>æˆ˜å‰éƒ¨ç½²
            </button>
            <button data-tab="itinerary" class="nav-tab text-sm md:text-base font-semibold py-2 px-4 rounded-full border-2 transition-all duration-300">
                <span class="mr-2">ğŸ—“ï¸</span>æ¯æ—¥è¡ŒåŠ¨
            </button>
            <button data-tab="destinations" class="nav-tab text-sm md:text-base font-semibold py-2 px-4 rounded-full border-2 transition-all duration-300">
                <span class="mr-2">ğŸ—ºï¸</span>ç›®æ ‡å›¾é‰´
            </button>
            <button data-tab="food" class="nav-tab text-sm md:text-base font-semibold py-2 px-4 rounded-full border-2 transition-all duration-300">
                <span class="mr-2">ğŸœ</span>ç¾é£Ÿæ¸…å•
            </button>
            <!-- é¢„ç®—é€Ÿè§ˆæŒ‰é’®
<button data-tab="budget" class="nav-tab text-sm md:text-base font-semibold py-2 px-4 rounded-full border-2 transition-all duration-300">
    <span class="mr-2">ğŸ’°</span>é¢„ç®—é€Ÿè§ˆ
</button>
-->
            <button data-tab="guide" class="nav-tab text-sm md:text-base font-semibold py-2 px-4 rounded-full border-2 transition-all duration-300">
                <span class="mr-2">ğŸ‘¨â€ğŸ«</span>å¯¼æ¸¸ä»‹ç»
            </button>
        </nav>

        <main id="content-container">
            <!-- æˆ˜å‰éƒ¨ç½² -->
            <section id="prep" class="content-section">
                <div class="bg-white p-6 rounded-2xl shadow-lg">
                    <h2 class="text-2xl font-bold text-teal-600 mb-1">æˆ˜å‰éƒ¨ç½²ï¼šè¡ŒåŠ¨å‰ç½®æ£€æŸ¥æ¸…å•</h2>
                    <p class="text-slate-500 mb-6">æ­¤ç¯èŠ‚æ˜¯ä»»åŠ¡æˆåŠŸçš„åŸºçŸ³ã€‚è¯·é€é¡¹ç¡®è®¤ï¼Œç¡®ä¿ä¸‡æ— ä¸€å¤±ã€‚</p>
                    <div id="prep-list" class="space-y-6"></div>
                </div>
            </section>

            <!-- æ¯æ—¥è¡ŒåŠ¨ -->
            <section id="itinerary" class="content-section">
                 <div class="bg-white p-6 rounded-2xl shadow-lg">
                    <h2 class="text-2xl font-bold text-teal-600 mb-1">æ¯æ—¥è¡ŒåŠ¨ï¼šäº¤äº’å¼æ—¶é—´çº¿</h2>
                    <p class="text-slate-500 mb-6">é€‰æ‹©æ—¥æœŸï¼ŒæŸ¥çœ‹å›¾æ–‡å¹¶èŒ‚çš„ä½œæˆ˜è®¡åˆ’ã€‚</p>
                    <div id="day-selector" class="flex justify-center flex-wrap gap-2 mb-6"></div>
                    <div id="timeline-container"></div>
                </div>
            </section>

            <!-- ç›®æ ‡å›¾é‰´ -->
            <section id="destinations" class="content-section">
                <div class="bg-white p-6 rounded-2xl shadow-lg">
                    <h2 class="text-2xl font-bold text-teal-600 mb-1">ç›®æ ‡å›¾é‰´ï¼šæ™¯ç‚¹é€ŸæŸ¥</h2>
                    <p class="text-slate-500 mb-6">å¿«é€ŸæŸ¥æ‰¾æœ¬æ¬¡è¡ŒåŠ¨çš„å…³é”®ç›®æ ‡ç‚¹ï¼Œç‚¹å‡»å¡ç‰‡æŸ¥çœ‹è¯¦ç»†æƒ…æŠ¥ã€‚</p>
                    <div id="dest-filter" class="flex justify-center flex-wrap gap-2 mb-6"></div>
                    <div id="dest-grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"></div>
                </div>
            </section>

            <!-- ç¾é£Ÿæ¸…å• -->
            <section id="food" class="content-section">
                <div class="bg-white p-6 rounded-2xl shadow-lg">
                    <h2 class="text-2xl font-bold text-teal-600 mb-1">ç¾é£Ÿæ¸…å•ï¼šæˆ˜æœ¯è¡¥ç»™ç‚¹</h2>
                    <p class="text-slate-500 mb-6">é«˜æ•ˆè¡¥å……èƒ½é‡ï¼Œå“å°å½“åœ°ç‰¹è‰²ã€‚</p>
                    <div id="food-filter" class="flex justify-center flex-wrap gap-2 mb-6"></div>
                    <div id="food-grid" class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4"></div>
                </div>
            </section>

            <!-- é¢„ç®—é€Ÿè§ˆ -->
            <section id="budget" class="content-section">
                <div class="bg-white p-6 rounded-2xl shadow-lg">
                    <h2 class="text-2xl font-bold text-teal-600 mb-1">é¢„ç®—é€Ÿè§ˆï¼šå¼€é”€åˆ†æ</h2>
                    <p class="text-slate-500 mb-6">æœ¬æ¬¡è¡ŒåŠ¨é¢„ä¼°æ€»å¼€é”€åŠå„é¡¹æ”¯å‡ºå æ¯”ã€‚å°†é¼ æ ‡æ‚¬åœåœ¨å›¾è¡¨ä¸Šå¯æŸ¥çœ‹è¯¦ç»†æ•°é¢ã€‚</p>
                    <div class="chart-container">
                        <canvas id="budgetChart"></canvas>
                    </div>
                </div>
            </section>

            <!-- å¯¼æ¸¸ä»‹ç» -->
            <section id="guide" class="content-section">
                <div class="bg-white p-6 rounded-2xl shadow-lg">
                    <h2 class="text-2xl font-bold text-teal-600 mb-1">å¯¼æ¸¸ä»‹ç»ï¼šæ‚¨çš„ä¸“å±å‘å¯¼</h2>
                    <p class="text-slate-500 mb-6">è®©æˆ‘æ¥ä¸ºæ‚¨ä»‹ç»è¿™æ¬¡æ—…ç¨‹çš„ä¸“ä¸šå¯¼æ¸¸ã€‚</p>
                    <div class="flex flex-col md:flex-row items-center gap-8">
                        <div class="w-48 h-48 rounded-full overflow-hidden shadow-lg">
                            <img src="lin.jpg" alt="å¯¼æ¸¸ç…§ç‰‡" class="w-full h-full object-cover">
                        </div>
                        <div class="flex-1 space-y-4">
                            <h3 class="text-xl font-bold text-teal-700">é»„å“²é¸¿ï¼ˆä¸“ä¸šå¯¼æ¸¸ï¼‰</h3>
                            <div class="flex gap-2 flex-wrap">
                                <span class="px-3 py-1 bg-teal-100 text-teal-800 rounded-full text-sm">10å¹´å¯¼æ¸¸ç»éªŒ</span>
                                <span class="px-3 py-1 bg-teal-100 text-teal-800 rounded-full text-sm">ç¦å»ºæ–‡åŒ–ä¸“å®¶</span>
                                <span class="px-3 py-1 bg-teal-100 text-teal-800 rounded-full text-sm">æ‘„å½±è¾¾äºº</span>
                            </div>
                            <p class="text-slate-600">ä»äº‹å¯¼æ¸¸å·¥ä½œ10å¹´ï¼Œå¯¹ç¦å»ºçš„å†å²æ–‡åŒ–ã€ç¾é£Ÿç‰¹äº§éƒ½æœ‰æ·±å…¥ç ”ç©¶ã€‚æ“…é•¿ä¸ºæ¸¸å®¢å®šåˆ¶ä¸ªæ€§åŒ–è¡Œç¨‹ï¼Œè®©æ¯ä½æ¸¸å®¢éƒ½èƒ½ä½“éªŒæœ€åœ°é“çš„ç¦å»ºé£æƒ…ã€‚ç†Ÿæ‚‰å„ä¸ªæ™¯ç‚¹çš„æœ€ä½³æ¸¸è§ˆæ—¶é—´å’Œæ‹æ‘„è§’åº¦ï¼Œå¯ä»¥ä¸ºæ‚¨çš„æ—…ç¨‹æä¾›ä¸“ä¸šçš„å»ºè®®å’ŒæŒ‡å¯¼ã€‚</p>
                            <div class="flex gap-4">
                                <div class="text-center">
                                    <div class="text-2xl font-bold text-teal-600">500+</div>
                                    <div class="text-sm text-slate-500">å¸¦å›¢æ¬¡æ•°</div>
                                </div>
                                <div class="text-center">
                                    <div class="text-2xl font-bold text-teal-600">4.9</div>
                                    <div class="text-sm text-slate-500">ç”¨æˆ·è¯„åˆ†</div>
                                </div>
                                <div class="text-center">
                                    <div class="text-2xl font-bold text-teal-600">98%</div>
                                    <div class="text-sm text-slate-500">å¥½è¯„ç‡</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <script>
        const appData = {
            prep: [
                {
                    title: 'æƒé™è·å–ï¼šæ•°å­—æˆ˜åœº',
                    icon: 'ğŸŸï¸',
                    items: [
                        { text: 'é¢„è®¢é¼“æµªå±¿èˆ¹ç¥¨ (â€œå±¿è§å¦é—¨â€å°ç¨‹åº)', checked: false },
                        { text: 'é¢„çº¦å¦é—¨å¤§å­¦å…¥æ ¡ (â€œå¦é—¨å¤§å­¦è®¿å®¢é¢„çº¦ç³»ç»Ÿâ€)', checked: false },
                        { text: 'é¢„è®¢ å¦é—¨åŒ— â†’ ç¦å·å— é«˜é“ç¥¨', checked: false },
                        { text: 'é¢„è®¢ ç¦å·å— â†’ å¹³æ½­ é«˜é“ç¥¨', checked: false },
                    ]
                },
                {
                    title: 'å»ºç«‹å‰çº¿ä½œæˆ˜åŸºåœ° (ä½å®¿)',
                    icon: 'ğŸ¨',
                    items: [
                        { text: 'é¢„è®¢å¦é—¨ä½å®¿ (ç¬¬1ã€2æ™š)', checked: false },
                        { text: 'é¢„è®¢å¹³æ½­ä½å®¿ (ç¬¬3æ™šï¼Œå»ºè®®å¿åŸ)', checked: false },
                    ]
                },
                {
                    title: 'æ‰“å¡æœºä½',
                    icon: 'ğŸ“¸',
                    items: [
                    { "text": "å®‡å®™æœ‰è¶£ç ”ç©¶æ‰€ï¼ˆäººè¾ƒå¤šï¼Œéœ€è¦ç­‰ï¼‰", checked: false },
    { "text": "åæ–°è·¯33å·ï¼ˆå¼ ä¸‡æ£®å®¶é—¨å£äººæ˜¯çœŸå¤šï¼‰", checked: false },
    { "text": "åšä¸ªé—²äººèŒ¶é¦†ï¼ˆæœ‰å¡é€šè‘›ä¼˜èººé›•åƒï¼‰", checked: false },
    { "text": "æ²™å¡å°¾æ–‡åŒ–è¡—ï¼ˆå¦é—¨è€è¡—ç‹¬ç‰¹çš„æ—¥å¼å¤–å¢™ï¼Œå¾ˆå¥½å‡ºç‰‡ï¼‰", checked: false },
    { "text": "é¼“æµªå±¿-æœ€ç¾è½¬è§’ï¼ˆå½±è§†å‰§å–æ™¯åœ°ï¼Œé¼“æµªå±¿å…¶ä»–æ™¯ç‚¹éƒ½å¾ˆå‡ºç‰‡ï¼‰", checked: false },
    { "text": "é»„åæµ·æ»©ï¼ˆæ¯”è¾ƒå®‰é™çš„ï¼Œæ°´è´¨è¾ƒå¥½ï¼Œæ™´å¤©éšä¾¿æ‹æ‹éƒ½å¥½çœ‹ï¼‰", checked: false },
    { "text": "åé‡Œé•¿å ¤ï¼ˆé»„æ˜çš„åé‡Œé•¿å ¤æ˜¯çœŸç¾ï¼Œè¿˜ä¼šæœ‰ä¹é˜Ÿæ¼”å¥ï¼Œå¾ˆæœ‰æ°›å›´ï¼‰", checked: false },
    { "text": "ç™½åŸæ²™æ»©ï¼ˆå¯ä»¥å’ŒåŒå­å¡”æ‹ç…§ï¼Œç¯äº®èµ·æ¥çš„æ—¶å€™çœŸçš„å¾ˆæ¼‚äº®ï¼‰", checked: false },
    { "text": "ä¸­å±±è·¯æ­¥è¡Œè¡—ï¼ˆå¤å…¸çš„æ¬§å¼é£æ ¼å»ºç­‘å¤œæ™¯å¾ˆç¾ï¼‰", checked: false },
    { "text": "â€œå¦é—¨â€æ‹ç…§å¢™ï¼ˆANNAS RESTAURANTå¯¹é¢ï¼Œç›´æ¥å¯¼èˆªï¼‰", checked: false },
    { "text": "æºªå²¸èŠ±é¸Ÿå¸‚åœºï¼ˆé²œèŠ±å¯ä»¥è®©äººå¿ƒæƒ…ç¾ä¸½ï¼Œä¹Ÿå¥½å‡ºç‰‡ï¼‰", checked: false }
                    ]
                },
                {
                    title: 'è¡ŒåŠ¨äººå‘˜å·¥å…·åŒ…',
                    icon: 'ğŸ’',
                    items: [
                        { text: 'å‡†å¤‡è½»ä¾¿èƒŒåŒ…ã€å¾’æ­¥é‹', checked: false },
                        { text: 'å‡†å¤‡é˜²æ™’éœœã€é®é˜³å¸½ã€å¤ªé˜³é•œ', checked: false },
                        { text: 'å‡†å¤‡ä¾¿æºå¼å……ç”µå®ã€é›¨å…·', checked: false },
                        { text: 'å®‰è£…é«˜å¾·/ç™¾åº¦åœ°å›¾ã€é“è·¯12306ç­‰App', checked: false },
                    ]
                },
                {
  "title": "å¦é—¨é¿é›·æŒ‡å—",
  "icon": "âš ï¸",
  "items": [
    { "text": "é«˜é“å‡ºè¡Œé€‰å¦é—¨ç«™ï¼ˆåœ¨å²›å†…ï¼‰ç¦»æ™¯ç‚¹è¿‘ï¼Œå¦é—¨åŒ—ç«™æ˜¯å²›å¤–ï¼Œå¯ååœ°é“1å·çº¿åˆ°å¸‚åŒº", checked: false },
    { "text": "å¦é—¨éœ€æå‰é¢„çº¦çš„æ™¯ç‚¹ï¼šé¼“æµªå±¿ã€é’Ÿé¼“ç´¢é“ã€å—æ™®é™€ã€å¦é—¨å¤§å­¦ã€æ¤ç‰©å›­ã€å¦é—¨ç§‘æŠ€é¦†ã€èƒ¡é‡Œå±±ç‚®å°", checked: false },
    { "text": "é’Ÿé¼“ç´¢é“å‚æ™šå¾ˆç¾ï¼Œä¿¯ç°å¦é—¨å…¨æ™¯ï¼ˆç¼†è½¦æ— ç»ç’ƒï¼Œå†¬å¤©å»ºè®®ç©¿é˜²é£è¡£ï¼‰", checked: false },
    { "text": "é¼“æµªå±¿éœ€æå‰è®¢ç¥¨ï¼ˆgzhâ€œå¦é—¨è½®æ¸¡â€ï¼‰ï¼Œæ—ºå­£å»ºè®®æå‰10-15å¤©ï¼Œæ™•èˆ¹è€…è¯·å¤‡è¯", checked: false },
    { "text": "é¼“æµªå±¿äº”å¤§æ™¯ç‚¹ï¼šæ—¥å…‰å²©ã€è½åº„èŠ±å›­ã€çš“æœˆå›­ã€å…«å¦æ¥¼ã€å›½é™…åˆ»å­—è‰ºæœ¯é¦†ï¼Œè”ç¥¨90å…ƒ/äººï¼ˆgzhâ€œå±¿è§å¦é—¨â€ï¼‰ä¹Ÿå¯å•ä¹°", checked: false },
    { "text": "æ¤ç‰©å›­å”®ç¥¨å¤„å¯é¢†å…è´¹åœ°å›¾ï¼Œå»ºè®®ä»è¥¿é—¨è¿›ï¼Œç¦»ç½‘çº¢å¤šè‚‰æ¤ç‰©åŒºå’Œé›¨æ—åŒºè¿‘", checked: false },
    { "text": "ä¸­å±±è·¯é€‚åˆæ‹ç…§æ‰“å¡ï¼Œä½†ç½‘çº¢åº—å¤šã€æ¶ˆè´¹åé«˜ï¼Œç†æ€§æ¶ˆè´¹", checked: false },
    { "text": "é›†ç¾å­¦æ‘å¯ä¹˜åœ°é“1å·çº¿è‡³â€œé›†ç¾å­¦æ‘â€ç«™ï¼Œåé‡Œé•¿å ¤çœ‹æ—¥è½è¶…ç¾", checked: false },
    { "text": "çœ‹æ—¥å‡ºæ¨èï¼šé»„åæµ·æ»©ï¼›çœ‹æ™šéœæ¨èï¼šç™½åŸæ²™æ»©", checked: false }
  ]
},
{
  "title": "æ™¯ç‚¹é¢„çº¦æŒ‡å—",
  "icon": "ğŸ“…",
  "items": [
    { "text": "å¦é—¨å¤§å­¦ï¼šgzhâ€œå¦é—¨å¤§å­¦è®¿å®¢ç³»ç»Ÿâ€ï¼ˆ07:00-23:00ï¼Œå…è´¹ï¼Œæå‰3å¤©é¢„çº¦ï¼‰", checked: false },
    { "text": "é¼“æµªå±¿ï¼šgzhâ€œå±¿è§å¦é—¨â€ï¼ˆå…¨å¤©ï¼Œ35å…ƒï¼Œæå‰3å¤©é¢„çº¦ï¼‰", checked: false },
    { "text": "å—æ™®é™€å¯ºï¼šgzhâ€œå—æ™®é™€å¯ºâ€ï¼ˆ08:00-17:30ï¼Œå…è´¹ï¼Œæå‰1-4å¤©é¢„çº¦ï¼‰", checked: false },
    { "text": "å¦é—¨æ¤ç‰©å›­ï¼šgzhâ€œå¦é—¨æ¤ç‰©å›­å•†åŸâ€ï¼ˆ06:30-17:30ï¼Œ30å…ƒï¼Œæå‰2å¤©é¢„çº¦ï¼‰", checked: false },
    { "text": "é’Ÿé¼“ç´¢é“ï¼šgzhâ€œé’Ÿé¼“ç´¢é“â€ï¼ˆ08:30-17:30ï¼Œ80å…ƒï¼Œæå‰10å¤©é¢„çº¦ï¼‰", checked: false },
    { "text": "å¦é—¨ç§‘æŠ€é¦†ï¼šgzhâ€œæ³‰å·å¸‚ç§‘æŠ€é¦†â€ï¼ˆ09:00-17:00ï¼Œ140å…ƒï¼Œæå‰1å¤©é¢„çº¦ï¼Œå‘¨ä¸€é—­é¦†ï¼‰", checked: false },
    { "text": "åŒå­å¡”ï¼šgzhâ€œä¸–èŒ‚äº‘ä¸Šå¦é—¨è§‚å…‰å…â€ï¼ˆ09:00-20:00ï¼Œ160å…ƒèµ·ï¼Œæå‰1å¤©é¢„çº¦ï¼‰", checked: false },
    { "text": "æµ·åº•ä¸–ç•Œï¼šgzhâ€œå¦é—¨æµ·åº•ä¸–ç•Œâ€ï¼ˆ08:00-12:00ï¼Œ198å…ƒï¼Œæå‰1-30å¤©é¢„çº¦ï¼‰", checked: false },
    { "text": "èƒ¡é‡Œå±±ç‚®å°ï¼šgzhâ€œèƒ¡é‡Œå±±ç‚®å°â€ï¼ˆ08:00-17:30ï¼Œ25å…ƒï¼Œæå‰1å¤©é¢„çº¦ï¼‰", checked: false },
    { "text": "æ½®æ±ä¹‹çœ¼ï¼šgzhâ€œå¦é—¨æœ¬åœ°å®â€ï¼ˆ10:00-22:00ï¼Œ98å…ƒï¼Œæå‰1å¤©é¢„çº¦ï¼‰", checked: false },
    { "text": "ä»¥ä¸‹æ™¯ç‚¹æ— éœ€é¢„çº¦ï¼šé›†ç¾å­¦æ‘ã€æ²™å¡å°¾ã€æ¼”æ­¦å¤§æ¡¥ã€å›­åšè‹‘ã€é»„åæµ·æ»©ã€ç™½åŸæ²™æ»©ã€æ›¾ååµ", checked: false }
  ]
}
            ],
            itinerary: [
                {
                    day: 1,
                    date: '8æœˆ10æ—¥',
                    title: 'å¦é—¨ï¼šæ–‡åŒ–ã€æµ·å²¸çº¿ä¸æˆ˜ç•¥è½¬ç§»',
                    dayImage: '11.jpg',
                    events: [
                         { time: '08:00-09:30', title: 'å¦é—¨å¤§å­¦æ¸—é€', details: 'å‡­é¢„çº¦å…¥æ ¡ã€‚æ ¸å¿ƒçœ‹ç‚¹ï¼šèŠ™è“‰æ¹–ã€å»ºå—å¤§ç¤¼å ‚ã€èŠ™è“‰éš§é“ã€‚', img: 'https://b0.bdstatic.com/ugc/ekREfR5jH3ypTYxBMVYiLgd7686695d7ec8255ebe0ff0a89dab23f.jpg' },
                        { time: '10:00-12:00', title: 'å—æ™®é™€å¯º', details: 'ç´§é‚»å¦å¤§ï¼Œå…è´¹å¼€æ”¾ï¼Œå¯å…ˆè¡Œæ¸¸è§ˆã€‚', img: 'https://img1.baidu.com/it/u=4209491105,1069951446&fm=253&fmt=auto&app=138&f=JPEG?w=800&h=1422' },
                        { time: '13:00-15:00', title: 'æ¤ç‰©å›­ï¼ˆè¥¿é—¨ï¼‰', details: 'æ¤ç‰©è‡ªç„¶äººæ–‡', img: 'https://gips0.baidu.com/it/u=2417506657,2209122435&fm=3074&app=3074&f=JPEG?w=1080&h=1410&type=normal&func=' },
                        { time: '15:30-17:00', title: 'æ²™å¡å°¾è‰ºæœ¯è¥¿åŒº', details: 'å†å²é¿é£åä¸ç°ä»£æ½®æµæ–‡åŒ–äº¤æ±‡å¤„ï¼Œç»ä½³æ‹æ‘„ç‚¹ã€‚', img: 'https://pics2.baidu.com/feed/7acb0a46f21fbe0956abf5fced0c733c8544add8.jpeg@f_auto?token=3a237bc88d2a6ddb4a29d9661211875f' }
                    ]
                },
                {
                    day: 2,
                    date: '8æœˆ11æ—¥',
                    title: 'å¦é—¨ï¼šå²›å±¿å¾æœä¸ç¾é£Ÿçªè¢­',
                    dayImage: '22.jpg',
                    events: [
                        { time: '10:00-16:00', title: 'é¼“æµªå±¿å…¨å²›è¡ŒåŠ¨', details: 'æ ¸å¿ƒè·¯çº¿ï¼šæ—¥å…‰å²© â†’ è½åº„èŠ±å›­ â†’ çš“æœˆå›­ â†’ ç¬”å±±æ´ã€‚æ³¨æ„ï¼šå…¨å²›æ­¥è¡Œï¼Œåšå¥½ä½“åŠ›å‚¨å¤‡ã€‚',img: 'https://pics5.baidu.com/feed/b3119313b07eca801a562799c807f3d2a1448334.jpeg@f_auto?token=fe9928e9bbaf8706ba312ce455aa057f'},
                        { time: '10:00-16:00', title: 'æœ€ç¾è½¬è§’', details: 'å¤šéƒ¨ç”µå½±æ‹æ‘„åœ°', img: 'https://qcloud.dpfile.com/pc/k6PLvlQGsWnc7t5H_SgfC7Te7Qzh7YNAqgEqxVyspFvgYuV7mcAempDblxrj5XHP.jpg' },
                        { time: '10:00-16:00', title: 'çš“æœˆå›­è§’', details: 'é—¨ç¥¨ï¼š10rã€‚çºªå¿µéƒ‘æˆåŠŸæ”¶å¤å°æ¹¾', img: 'https://youimg1.c-ctrip.com/target/fd/tg/g2/M05/EC/80/Cghzf1UAHMiASXTdAA2u-3kF9zg839.jpg' },
                        { time: '10:00-16:00', title: 'å¤§å¾·è®°æµ´åœº', details: 'æ²™è´¨ç»†è…»ï¼Œå¯¹é¢å°±æ˜¯åŒå­è¸', img: 'https://gips1.baidu.com/it/u=3755121750,2069257641&fm=3074&app=3074&f=JPEG' },
                        { time: '10:00-16:00', title: 'è½åº„èŠ±å›­', details: 'å°æ¹¾å•†äººæ—çš„èŠ±å›­', img: 'https://miaobi-lite.bj.bcebos.com/miaobi/5mao/b%27LV8xNzMzODc5MTIzLjcxNDczMQ%3D%3D%27/0.png?authorization=bce-auth-v1%2FALTAKmda7zOvhZVbRzBLewvCMU%2F2024-12-11T01%3A05%3A24Z%2F-1%2F%2Ff6f7eee16ff9d1083fc15492b5ef4a893368587dc4fd04edbce785a05fa37684' },
                        { time: '10:00-16:00', title: 'æ—¥å…‰å²©', details: 'å²›å†…æœ€é«˜å³°', img: 'https://img2.baidu.com/it/u=2821876740,1101228647&fm=253&fmt=auto&app=138&f=JPEG?w=500&h=586' },
                    ]
                },
                {
                    day: 3,
                    date: '8æœˆ12æ—¥',
                    title: 'ç¦å·ï¼šå¤åŸæ ¸å¿ƒé—ªå‡»',
                    dayImage: '33.jpg',
                    events: [
    {
      time: '09:00-11:30',
      title: 'æ¸—é€ä¸‰åŠä¸ƒå··',
      details: 'é«˜ä¼˜å…ˆçº§ç›®æ ‡ï¼šæ—åˆ™å¾ã€ä¸¥å¤ã€å†°å¿ƒæ•…å±…ç­‰æ˜æ¸…å¤å»ºç¾¤ï¼Œè¢«èª‰ä¸ºâ€œä¸­å›½æ˜æ¸…å»ºç­‘åšç‰©é¦†â€ã€‚æˆ˜æœ¯è¡¥ç»™ç‚¹ï¼šåŒåˆ©è‚‰ç‡•ã€æ°¸å’Œé±¼ä¸¸ã€‚',
      img: 'https://qcloud.dpfile.com/pc/PPdHeiFSQgjQQCYAEqgvOu3SqcoZLM22ieuR710wg9Ep4rvkTr6BfTsD8-EpmEVF.jpg'
    },
    {
      time: '11:45-13:30',
      title: 'ç¦å»ºåšç‰©é™¢',
      details: 'çœçº§ç»¼åˆé¦†ï¼Œ17ä¸‡ä»¶é—½åœ°æ–‡ç‰©ï¼Œå¿«é€Ÿæµè§ˆé—½è¶Šæ–‡åŒ–æ¼”è¿›ã€‚',
      img: 'https://bkimg.cdn.bcebos.com/pic/9c16fdfaaf51f3de8315c0ce9aeef01f3b2979f0'
    },
    {
      time: '13:30-15:00',
      title: 'è¥¿æ¹–å…¬å›­',
      details: 'ç¦å·ç‰ˆâ€œåŸå¸‚ç»¿è‚ºâ€ï¼Œå¤å…¸å›­æ—æ¹–æ™¯ï¼Œé€‚åˆçŸ­æš‚ä¼‘æ•´ã€‚',
      img: 'https://miaobi-lite.bj.bcebos.com/miaobi/5mao/b%27LV8xNzMxMDU4Nzg5LjQ4NzYxNDY%3D%27/0.png?authorization=bce-auth-v1%2FALTAKmda7zOvhZVbRzBLewvCMU%2F2024-11-08T09%3A39%3A50Z%2F-1%2F%2F9c23b13d576592067a2e34740d13da86099f2f5532e611a60d973cd4092f9574'
    },
    {
      time: '15:05-16:30',
      title: 'å·¦æµ·å…¬å›­',
      details: 'æ­¥è¡Œ5åˆ†é’Ÿã€‚æ‘©å¤©è½®+æµ·åº•ä¸–ç•Œï¼ŒåŸå¸‚ä¼‘é—²ä¾¦å¯Ÿç‚¹ã€‚',
      img: 'https://img.phb123.com/uploads/allimg/230706/820-230F6103R20-L.png'
    },
    {
      time: '16:45-18:30',
      title: 'ç¦é“é«˜ç©ºæ ˆé“',
      details: 'å…¨å›½æœ€é•¿åŸå¸‚æ£®æ—æ­¥é“ï¼Œæ‚¬ç©º19å…¬é‡Œï¼Œä¿¯ç°ç¦å·å…¨æ™¯ã€‚',
      img: 'https://miaobi-lite.bj.bcebos.com/miaobi/5mao/b%27LV8xNzMxNTYxMjk3Ljg2OTAxOTU%3D%27/0.png'
    },
    {
      time: '19:00-20:30',
      title: 'äº”ä¸€å¹¿åœºå¤œå·¡',
      details: 'å¸‚ä¸­å¿ƒåœ°æ ‡ï¼Œå›½æ——å¹¿åœº+éŸ³ä¹å–·æ³‰ï¼Œæ„Ÿå—ç¦å·å¤œç”Ÿæ´»ã€‚',
        img: 'https://miaobi-lite.bj.bcebos.com/miaobi/5mao/b%27LV8xNzMxNTYxMjk3Ljg2OTAxOTU%3D%27/0.png'
    }
                    ]
                },
                {
                    day: 4,
                    date: '8æœˆ13æ—¥',
                    title: 'ç¦å·ä¸æ’¤ç¦»',
                    dayImage: '44.jpg',
                    events: [
    {
      time: '07:30-09:30',
      title: 'è¥¿ç¦…å¤å¯ºæ™¨é’Ÿ',
      details: 'å”ä»£åƒå¹´å¤åˆ¹ï¼Œ20å…ƒé—¨ç¥¨ï¼Œå®‹æ˜å¤å¡”ä¸ä½›åƒæ—ç«‹ï¼Œæ¸…æ™¨å…‰çº¿æŸ”å’Œé€‚åˆæ‹æ‘„ã€‚',
      img: 'https://img0.baidu.com/it/u=2948108290,295757863&fm=253&app=138&f=JPEG?w=800&h=1188'
    },
    {
      time: '10:00-12:00',
      title: 'ä¸Šä¸‹æ­å•†åŸ æ¼«æ¸¸',
      details: 'æ˜æ¸…é—½æ±Ÿç å¤´æ—§åœ°ï¼Œä¸­è¥¿åˆç’§éª‘æ¥¼ã€ä¼šé¦†æ—ç«‹ï¼Œå¦‚ä»Šæ–‡åˆ›åº—é“ºä¸å’–å•¡é¦†å¯†é›†ï¼Œå¯è¡¥ç»™åˆé¤ã€‚',
      img: 'https://qcloud.dpfile.com/pc/-hwyAJOnUVa1nVUZ0pgIbheeRF17-pSYiiVVMpsv0BgSwKYF4geFJ9UEtPqpaL5kY0q73sB2DyQcgmKUxZFQtw.jpg'
    },
    {
      time: '12:10-13:00',
      title: 'é’å¹´å¹¿åœºæ‰“å¡',
      details: 'æ­¥è¡Œ10åˆ†é’Ÿå³è¾¾ã€‚çº¢ç –è€ä»“+æ»¨æ±Ÿæ­¥é“ï¼Œæ½®æµè£…ç½®è‰ºæœ¯ï¼Œé€‚åˆæ‹äººåƒã€‚',
      img: 'https://gips3.baidu.com/it/u=275875370,1799669291&fm=3074&app=3074&f=JPEG?w=1080&h=2084&type=normal&func='
    },
    {
      time: '13:15-15:30',
      title: 'çƒŸå°å±±é¢†äº‹é¦†åŒº',
      details: 'ç™¾å¹´é¢†äº‹é¦†å»ºç­‘ç¾¤ï¼Œæ–œå¡è¡—å··ã€å¤å¤çª—æ£‚ä¸å’–å•¡é¦†äº‘é›†ï¼Œåˆåå…‰å½±æä½³ã€‚',
      img: 'https://img2.baidu.com/it/u=2966884077,2648956703&fm=253&app=138&f=JPEG?w=800&h=1761'
    },
    {
      time: '16:00-18:00',
      title: 'é¼“å±±æ—¥è½è¡ŒåŠ¨',
      details: 'åœ°é“30åˆ†é’ŸæŠµå±±è„šï¼Œç¼†è½¦æˆ–å¾’æ­¥ç™»é¡¶ã€‚ä¿¯ç°æ¦•åŸä¸é—½æ±Ÿï¼Œå¤•é˜³ä¸åŸå¸‚ç¯ç«åŒæ¡†ã€‚',
      img: 'https://gips0.baidu.com/it/u=3732308732,293886023&fm=3074&app=3074&f=JPEG'
    },
    {
      time: '19:30-21:00',
      title: 'ç¦å·ç«™Â·æ’¤ç¦»',
      details: 'åœ°é“ç›´è¾¾ç¦å·ç«™ï¼Œå–è¡Œæã€æ™šé¤è¡¥ç»™åç™»è½¦è¿”ç¨‹ï¼Œä»»åŠ¡ç»“æŸã€‚',
      img: 'https://qcloud.dpfile.com/pc/CZq6M9aY6qrNrXdleiMfocix4RxTwmaeXqyF50ql2psGyaPZkKBgPQGrAVtDL27K.jpg'
    }
                    ]
                },
            ],
            destinations: [
                { id: 1, name: 'é¼“æµªå±¿', city: 'å¦é—¨', img: 'https://pics5.baidu.com/feed/b3119313b07eca801a562799c807f3d2a1448334.jpeg@f_auto?token=fe9928e9bbaf8706ba312ce455aa057f', desc: 'å……æ»¡æ´»åŠ›çš„æµ·æ»¨éƒ½å¸‚ï¼Œèåˆäº†æ®–æ°‘åœ°å†å²ã€è‰ºæœ¯èƒ½é‡ä¸æµ·æ»¨é£æƒ…ã€‚æ— è½¦å²›ï¼Œéœ€æ­¥è¡Œæ¸¸è§ˆã€‚', tags: ['å²›å±¿', 'å†å²å»ºç­‘', 'æ­¥è¡Œ'] },
                { id: 2, name: 'å¦é—¨å¤§å­¦', city: 'å¦é—¨', img: 'https://b0.bdstatic.com/ugc/ekREfR5jH3ypTYxBMVYiLgd7686695d7ec8255ebe0ff0a89dab23f.jpg', desc: 'ä¸­å›½æœ€ç¾å¤§å­¦ä¹‹ä¸€ï¼Œéœ€æå‰é€šè¿‡å®˜æ–¹æ¸ é“å®åé¢„çº¦ã€‚èŠ™è“‰éš§é“æ˜¯å¿…çœ‹ç‚¹ã€‚', tags: ['æ ¡å›­', 'æ–‡åŒ–', 'é¢„çº¦'] },
                { id: 3, name: 'æ²™å¡å°¾', city: 'å¦é—¨', img: 'https://img1.baidu.com/it/u=456998790,3332282638&fm=253&app=138&f=JPEG?w=500&h=667', desc: 'ç”±æ—§æ—¶é¿é£åæ”¹é€ çš„æ–‡åˆ›è‰ºæœ¯åŒºï¼Œæ–°æ—§äº¤èï¼Œæ˜¯æ‘„å½±å’Œä¼‘é—²çš„å¥½å»å¤„ã€‚', tags: ['è‰ºæœ¯åŒº', 'æ‘„å½±', 'å’–å•¡'] },
                { id: 4, name: 'ä¸‰åŠä¸ƒå··', city: 'ç¦å·', img: 'https://qcloud.dpfile.com/pc/WmlEe88HrTPD2l57HnoIx348BxwPpstnw4notvPnSTzt9aff1ZkPwMfGD_xJEFdX.jpg', desc: 'ä¸­å›½éƒ½å¸‚ä»…å­˜çš„ä¸€å—â€œé‡ŒåŠåˆ¶åº¦æ´»åŒ–çŸ³â€ï¼Œæ˜¯ç¦å·çš„å†å²ä¹‹æºã€æ–‡åŒ–ä¹‹æ ¹ã€‚', tags: ['å¤è¡—', 'åäººæ•…å±…', 'å†å²'] },
                { id: 5, name: 'åŒ—éƒ¨ç”Ÿæ€å»Šé“', city: 'å¹³æ½­', img: 'https://gips2.baidu.com/it/u=1156804707,2104698514&fm=3074&app=3074&f=JPEG?w=1440&h=2130&type=normal&func=', desc: 'ä¸“ä¸ºè§‚å…‰æ‰“é€ çš„é£æ™¯é“ï¼Œä¸²è”å¤šä¸ªåŒ—éƒ¨æ ¸å¿ƒæ™¯ç‚¹ï¼Œéå¸¸é€‚åˆç”µåŠ¨è½¦éª‘è¡Œã€‚', tags: ['é£æ™¯é“', 'éª‘è¡Œ', 'æµ·æ™¯'] },
                { id: 6, name: 'é•¿æ±Ÿæ¾³é£è½¦ç”°', city: 'å¹³æ½­', img: 'https://img.meituan.net/leadinimg/7fef0dc06638afaa7414ff817584386f170002.webp%40watermark%3D0', desc: 'å·¨å¤§çš„é£è½¦é˜µåˆ—æ²¿ç€æµ·å²¸çº¿æ’å¼€ï¼Œæ„æˆå¹³æ½­çš„æ ‡å¿—æ€§æ™¯è§‚ï¼Œæ˜¯è§‚èµæ—¥è½çš„ç»ä½³åœ°ç‚¹ã€‚', tags: ['é£è½¦', 'æ—¥è½', 'æ‘„å½±'] },
                { id: 7, name: 'å›å—æ¹¾', city: 'å¹³æ½­', img: 'https://miaobi-lite.bj.bcebos.com/miaobi/5mao/b%275bmz5r2t5Z2b5Y2X5rm%2BXzE3Mjk1Njg4NTMuMTcwODg4XzE3Mjk1Njg4NTMuNDY0Njgy%27/1.png', desc: 'è‘—åçš„â€œè“çœ¼æ³ªâ€è§‚æµ‹ç‚¹ï¼Œæ‹¥æœ‰ç»µé•¿å¹³ç¼“çš„æ²™æ»©ã€‚è¿½æ³ªéœ€è¦è¿æ°”å’Œè§„åˆ’ã€‚', tags: ['æµ·æ»©', 'è“çœ¼æ³ª', 'å¤œæ¸¸'] },
                { id: 8, name: 'çŒ´ç ”å²›', city: 'å¹³æ½­', img: 'https://gips1.baidu.com/it/u=788913733,2448157484&fm=3074&app=3074&f=JPEG', desc: 'ç¥–å›½å¤§é™†è·ç¦»å°æ¹¾æœ¬å²›æœ€è¿‘çš„åœ°æ–¹ï¼ˆ68æµ·é‡Œï¼‰ï¼Œå…·æœ‰ç‰¹æ®Šçš„åœ°ç†æ„ä¹‰ã€‚', tags: ['åœ°æ ‡', 'æµ·å²›', 'çºªå¿µ'] },
            ],
            food: [
                { id: 1, name: 'é»„åˆ™å’ŒèŠ±ç”Ÿæ±¤', city: 'å¦é—¨', desc: 'ç»å…¸çš„ç”œå“ï¼Œå£æ„Ÿé¡ºæ»‘ï¼Œå¿…å°ã€‚', price: 'çº¦5å…ƒ' },
                { id: 2, name: '1980çƒ§è‚‰ç²½', city: 'å¦é—¨', desc: 'é¦…æ–™ä¸°å¯Œçš„é—½å—å’¸ç²½ï¼Œèƒ½é‡è¡¥å……ä½³å“ã€‚', price: 'çº¦15å…ƒ' },
                { id: 3, name: 'è²æ¬¢æµ·è›ç…', city: 'å¦é—¨', desc: 'å¦é—¨æœ€å…·ä»£è¡¨æ€§çš„æµ·é²œå°åƒã€‚', price: 'çº¦20å…ƒ' },
                { id: 4, name: 'å…«å©†å©†çƒ§ä»™è‰', city: 'å¦é—¨', desc: 'æ¸…å‡‰è§£æš‘ï¼Œæ˜¯ç‚çƒ­å¤å¤œçš„å®Œç¾é€‰æ‹©ã€‚', price: 'çº¦8å…ƒ' },
                { id: 5, name: 'åŒåˆ©è‚‰ç‡•', city: 'ç¦å·', desc: 'ç¦å·æœ€è‘—åçš„ã€ä»¥è‚‰åŒ…è‚‰çš„ç‰¹è‰²å°åƒã€‚', price: 'çº¦15å…ƒ' },
                { id: 6, name: 'æ°¸å’Œé±¼ä¸¸', city: 'ç¦å·', desc: 'ä½“éªŒåœ°é“çš„ç¦å·é±¼ä¸¸ï¼ŒQå¼¹é²œç¾ã€‚', price: 'çº¦15å…ƒ' },
                { id: 7, name: 'æ—¶æ¥è¿è½¬', city: 'å¹³æ½­', desc: 'åœ°ç“œç²‰åŒ…è£¹é¦…æ–™çš„ç‰¹è‰²å°åƒï¼Œå¯“æ„ç¾å¥½ã€‚', price: 'çº¦10å…ƒ' },
                { id: 8, name: 'å¹³æ½­æµ·é²œ', city: 'å¹³æ½­', desc: 'æ–°é²œæ•æçš„æµ·äº§ï¼Œå“ç§ä¸°å¯Œï¼Œä»·æ ¼å®æƒ ã€‚', price: 'ä¸°ä¿­ç”±äºº' },
            ],
            budget: {
                labels: ['äº¤é€š', 'ä½å®¿', 'é—¨ç¥¨', 'é¤é¥®', 'å…¶ä»–'],
                data: [450, 500, 250, 600, 100],
                colors: ['#14b8a6', '#0d9488', '#0f766e', '#047857', '#065f46']
            }
        };

        document.addEventListener('DOMContentLoaded', () => {
            const tabs = document.querySelectorAll('.nav-tab');
            const contentSections = document.querySelectorAll('.content-section');
            const prepListContainer = document.getElementById('prep-list');
            const daySelectorContainer = document.getElementById('day-selector');
            const timelineContainer = document.getElementById('timeline-container');
            const destGridContainer = document.getElementById('dest-grid');
            const destFilterContainer = document.getElementById('dest-filter');
            const foodGridContainer = document.getElementById('food-grid');
            const foodFilterContainer = document.getElementById('food-filter');
            const budgetChartCanvas = document.getElementById('budgetChart');

            function switchTab(tabId) {
                tabs.forEach(tab => {
                    if (tab.dataset.tab === tabId) {
                        tab.classList.add('tab-active');
                        tab.classList.remove('tab-inactive');
                    } else {
                        tab.classList.remove('tab-active');
                        tab.classList.add('tab-inactive');
                    }
                });

                contentSections.forEach(section => {
                    if (section.id === tabId) {
                        section.classList.add('content-active');
                    } else {
                        section.classList.remove('content-active');
                    }
                });
            }

            tabs.forEach(tab => {
                tab.addEventListener('click', () => switchTab(tab.dataset.tab));
            });
            
            function createPrepList() {
                prepListContainer.innerHTML = appData.prep.map(category => `
                    <div class="bg-slate-50 p-4 rounded-lg">
                        <h3 class="font-bold text-lg text-slate-700 mb-3">${category.icon} ${category.title}</h3>
                        <ul class="space-y-2">
                            ${category.items.map(item => `
                                <li class="flex items-center">
                                    <input type="checkbox" id="${item.text.replace(/\s/g, '')}" class="h-4 w-4 rounded border-gray-300 text-teal-600 focus:ring-teal-500 mr-3">
                                    <label for="${item.text.replace(/\s/g, '')}" class="text-slate-600">${item.text}</label>
                                </li>
                            `).join('')}
                        </ul>
                    </div>
                `).join('');
            }

            function createDaySelector() {
                daySelectorContainer.innerHTML = appData.itinerary.map(day => `
                    <button data-day="${day.day}" class="day-selector-btn text-sm md:text-base font-semibold py-2 px-4 rounded-lg transition-all duration-200 bg-slate-100 hover:bg-teal-100 text-slate-600">
                        Day ${day.day}: ${day.date}
                    </button>
                `).join('');

                const dayButtons = document.querySelectorAll('.day-selector-btn');
                dayButtons.forEach(button => {
                    button.addEventListener('click', () => {
                        dayButtons.forEach(btn => btn.classList.remove('bg-teal-600', 'text-white'));
                        button.classList.add('bg-teal-600', 'text-white');
                        createTimeline(parseInt(button.dataset.day));
                    });
                });
            }

            function createTimeline(day) {
                const dayData = appData.itinerary.find(d => d.day === day);
                if (!dayData) return;
                timelineContainer.innerHTML = `
                    <div class="p-4">
                        <h3 class="text-xl font-bold text-center mb-2 text-teal-700">${dayData.title}</h3>
                        <div class="relative w-full aspect-[16/9] mb-8 overflow-hidden rounded-lg shadow-lg">
                            <img src="${dayData.dayImage}" alt="${dayData.title}" class="w-full h-full object-contain transition-transform duration-300 hover:scale-105" onerror="this.src='https://placehold.co/800x300/0f766e/white?text=å›¾ç‰‡æœªæ‰¾åˆ°'">
                        </div>
                        <div class="relative border-l-2 border-teal-200 ml-4 pl-8 space-y-12">
                            ${dayData.events.map(event => `
                                <div class="timeline-item relative">
                                    <div class="md:grid md:grid-cols-3 md:gap-6">
                                        <div class="md:col-span-2">
                                            <h4 class="font-bold text-slate-800 text-lg">${event.time} - ${event.title}</h4>
                                            <p class="text-slate-500 mt-2">${event.details}</p>
                                        </div>
                                        <div class="mt-4 md:mt-0">
                                             <div class="relative w-full aspect-[4/3] overflow-hidden rounded-lg shadow-md">
                                                 <img src="${event.img}" alt="${event.title}" class="w-full h-full object-contain transition-transform duration-300 hover:scale-105" onerror="this.src='https://placehold.co/600x400/0f766e/white?text=å›¾ç‰‡æœªæ‰¾åˆ°'">
                                             </div>
                                        </div>
                                    </div>
                                </div>
                            `).join('')}
                        </div>
                    </div>
                `;
            }
            
            function createFilterButtons(container, data, callback) {
                const cities = ['å…¨éƒ¨', ...new Set(data.map(item => item.city))];
                container.innerHTML = cities.map(city => `
                    <button data-filter="${city}" class="filter-btn text-sm md:text-base font-semibold py-2 px-4 rounded-lg transition-all duration-200 bg-slate-100 hover:bg-teal-100 text-slate-600">
                        ${city}
                    </button>
                `).join('');
                
                const filterButtons = container.querySelectorAll('.filter-btn');
                filterButtons.forEach(button => {
                    button.addEventListener('click', () => {
                        filterButtons.forEach(btn => btn.classList.remove('bg-teal-600', 'text-white'));
                        button.classList.add('bg-teal-600', 'text-white');
                        callback(button.dataset.filter);
                    });
                });
            }

            function createDestGrid(filter = 'å…¨éƒ¨') {
                const filteredData = filter === 'å…¨éƒ¨' ? appData.destinations : appData.destinations.filter(d => d.city === filter);
                destGridContainer.innerHTML = filteredData.map(dest => `
                    <div class="bg-white rounded-xl shadow overflow-hidden transition-all hover:shadow-lg hover:scale-105 flex flex-col">
                        <img src="${dest.img}" alt="${dest.name}" class="w-full h-40 object-cover" onerror="this.onerror=null;this.src='https://placehold.co/400x300/e2e8f0/94a3b8?text=Image+Not+Found';">
                        <div class="p-5 flex flex-col flex-grow">
                            <h3 class="font-bold text-lg text-teal-700">${dest.name}</h3>
                            <p class="text-slate-600 my-2 text-sm flex-grow">${dest.desc}</p>
                            <div class="flex flex-wrap gap-2 mt-3">
                                ${dest.tags.map(tag => `<span class="text-xs font-semibold bg-teal-100 text-teal-800 px-2 py-1 rounded-full">${tag}</span>`).join('')}
                            </div>
                        </div>
                    </div>
                `).join('');
            }

            function createFoodGrid(filter = 'å…¨éƒ¨') {
                const filteredData = filter === 'å…¨éƒ¨' ? appData.food : appData.food.filter(f => f.city === filter);
                foodGridContainer.innerHTML = filteredData.map(food => `
                    <div class="bg-white rounded-xl shadow p-4 text-center transition-all hover:shadow-lg hover:scale-105 flex flex-col justify-center">
                        <h3 class="font-bold text-lg text-teal-700">${food.name}</h3>
                        <p class="text-slate-600 my-2 text-sm flex-grow">${food.desc}</p>
                        <p class="font-bold text-teal-600 mt-2">${food.price}</p>
                    </div>
                `).join('');
            }

            function createBudgetChart() {
                const total = appData.budget.data.reduce((a, b) => a + b, 0);
                new Chart(budgetChartCanvas, {
                    type: 'doughnut',
                    data: {
                        labels: appData.budget.labels,
                        datasets: [{
                            label: 'é¢„ç®—èŠ±è´¹',
                            data: appData.budget.data,
                            backgroundColor: appData.budget.colors,
                            borderColor: '#f8fafc',
                            borderWidth: 4
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                position: 'bottom',
                                labels: {
                                    font: {
                                        size: 14,
                                        family: "'Noto Sans SC', sans-serif"
                                    }
                                }
                            },
                            tooltip: {
                                callbacks: {
                                    label: function(context) {
                                        let label = context.label || '';
                                        if (label) {
                                            label += ': ';
                                        }
                                        const value = context.raw;
                                        const percentage = ((value / total) * 100).toFixed(1);
                                        label += `Â¥${value} (${percentage}%)`;
                                        return label;
                                    }
                                }
                            },
                            title: {
                                display: true,
                                text: `é¢„ä¼°æ€»å¼€é”€ï¼šÂ¥${total}`,
                                font: {
                                    size: 18,
                                    weight: 'bold'
                                },
                                padding: {
                                    top: 10,
                                    bottom: 20
                                }
                            }
                        }
                    }
                });
            }

            function initialize() {
                switchTab('prep');
                createPrepList();
                
                createDaySelector();
                createTimeline(1);
                document.querySelector('.day-selector-btn[data-day="1"]').classList.add('bg-teal-600', 'text-white');

                createFilterButtons(destFilterContainer, appData.destinations, createDestGrid);
                createDestGrid();
                document.querySelector('#dest-filter .filter-btn[data-filter="å…¨éƒ¨"]').classList.add('bg-teal-600', 'text-white');

                createFilterButtons(foodFilterContainer, appData.food, createFoodGrid);
                createFoodGrid();
                document.querySelector('#food-filter .filter-btn[data-filter="å…¨éƒ¨"]').classList.add('bg-teal-600', 'text-white');
                
                createBudgetChart();
            }

            initialize();
        });
    </script>
</body>
</html>
